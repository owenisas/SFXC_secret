import{N as u,a as _,as as x,aX as z,c as B,w as a,f as d,aY as P,o as v,b as e,e as m,ao as g,n as V,g as I,i as t,t as y,ak as S,j as i,aB as N}from"./index.b1f13302.js";import{a as A,b as C,c as s,d as U,V as k,e as o,f as j}from"./VMenu.62d8b679.js";import{V as L}from"./VDivider.54a8eae1.js";const D="/assets/default_avatar.2f14dd05.jpg",M={key:0},Q={__name:"UserProfile",setup(T){const l=P(),b=u(()=>!!l.state.isLoggedIn),f=u(()=>l.state.user),h=u(()=>f.value!==null?"User":"Not Logged In"),c=_(""),p={dot:!0,location:"bottom right",offsetX:3,offsetY:3,color:"success",bordered:!0},r=_({username:f,privileges:h,avatar:c}),w=()=>{l.commit("setLoggedIn",!1),l.commit("setUser",null),localStorage.removeItem("session_token"),window.location.reload()};return x(async()=>{try{const n=await z.post("/user-avatar");n.status===200?c.value=n.data.avatar:c.value=l.commit("loadInitialState")}catch(n){console.error(n)}}),(n,X)=>(v(),B(d,{style:{cursor:"pointer"},color:"primary",variant:"tonal"},{default:a(()=>[e(m,{src:r.value.avatar},null,8,["src"]),e(k,V(I(p)),{default:a(()=>[e(d,{style:{cursor:"pointer"},color:"primary",variant:"tonal"},{default:a(()=>[e(m,{src:r.value.avatar,alt:g(D)},null,8,["src","alt"]),e(A,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:a(()=>[e(C,null,{default:a(()=>[e(s,null,{prepend:a(()=>[e(U,{start:""},{default:a(()=>[e(k,V(I(p)),{default:a(()=>[e(d,{color:"primary",size:"40",variant:"tonal"},{default:a(()=>[e(m,{src:r.value.avatar},null,8,["src"])]),_:1})]),_:1},16)]),_:1})]),default:a(()=>[e(o,{class:"font-weight-semibold"},{default:a(()=>[t(y(r.value.username),1)]),_:1}),e(j,{class:"text-disabled"},{default:a(()=>[t(y(r.value.privileges),1)]),_:1})]),_:1}),e(L,{class:"my-2"}),g(b)?(v(),S("div",M,[e(s,{to:"user-profile"},{prepend:a(()=>[e(i,{class:"me-2",icon:"mdi-account-outline",size:"22"})]),default:a(()=>[e(o,null,{default:a(()=>[t("Profile")]),_:1})]),_:1}),e(s,{to:"/account-settings"},{prepend:a(()=>[e(i,{class:"me-2",icon:"mdi-cog-outline",size:"22"})]),default:a(()=>[e(o,null,{default:a(()=>[t("Settings")]),_:1})]),_:1}),e(s,{link:""},{prepend:a(()=>[e(i,{class:"me-2",icon:"mdi-currency-usd",size:"22"})]),default:a(()=>[e(o,null,{default:a(()=>[t("Pricing")]),_:1})]),_:1}),e(s,{link:""},{prepend:a(()=>[e(i,{class:"me-2",icon:"mdi-help-circle-outline",size:"22"})]),default:a(()=>[e(o,null,{default:a(()=>[t("FAQ")]),_:1})]),_:1}),e(L,{class:"my-2"}),e(s,{link:"",onClick:w},{prepend:a(()=>[e(i,{color:"error",class:"me-2",icon:"mdi-logout-variant",size:"22"})]),default:a(()=>[e(o,null,{default:a(()=>[t("Logout")]),_:1})]),_:1})])):N("",!0)]),_:1})]),_:1})]),_:1})]),_:1},16)]),_:1}))}};export{Q as default};
